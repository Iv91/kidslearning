{% extends "_base.html" %}
{% load static %}

{% block title %}
  {% if lang == "sr" %}Svi radni listovi - KidsLearning
  {% elif lang == "de" %}Alle ArbeitsblÃ¤tter - KidsLearning
  {% else %}All Worksheets - KidsLearning
  {% endif %}
{% endblock %}

{% block content %}
<div style="height:150px;"></div>

<div class="container my-4">

  <!-- Title -->
  <h3 class="mb-4">
    {% if lang == "sr" %}ğŸ“ Svi radni listovi
    {% elif lang == "de" %}ğŸ“ Alle ArbeitsblÃ¤tter
    {% else %}ğŸ“ All Worksheets{% endif %}

    {% if query %}
      <small class="text-muted">
        {% if lang == "sr" %}za â€{{ query }}â€œ{% elif lang == "de" %}fÃ¼r â€{{ query }}â€œ{% else %}for "{{ query }}"{% endif %}
      </small>
    {% endif %}
  </h3>

  <div class="row">
    {% for worksheet in worksheets %}
      <div class="col-md-3 col-sm-6 mb-4">
        <div class="card h-100 shadow-sm">

          <!-- Image -->
          {% if worksheet.image %}
            <img src="{{ worksheet.image.url }}"
                 class="card-img-top"
                 alt="{{ worksheet.title }}"
                 style="height:150px; object-fit:contain;">
          {% else %}
            <img src="{% static 'assets/images/placeholders/worksheet.png' %}"
                 class="card-img-top"
                 alt="Worksheet"
                 style="height:150px; object-fit:contain;">
          {% endif %}

          <div class="card-body text-center">
            <h6 class="card-title">{{ worksheet.title }}</h6>

            <a href="{{ worksheet.file.url }}" download class="btn btn-sm btn-success">
              {% if lang == "sr" %}ğŸ“¥ Preuzmi{% elif lang == "de" %}ğŸ“¥ Herunterladen{% else %}ğŸ“¥ Download{% endif %}
            </a>

            <a href="{% url 'resource_detail' worksheet.id %}?lang={{ lang }}"
               class="btn btn-sm btn-outline-primary mt-2">
              {% if lang == "sr" %}ğŸ‘€ Detalji
              {% elif lang == "de" %}ğŸ‘€ Details
              {% else %}ğŸ‘€ View Details{% endif %}
            </a>
          </div>
        </div>
      </div>

    {% empty %}
      <p class="text-center">
        {% if lang == "sr" %}Nema dostupnih radnih listova.{% elif lang == "de" %}Keine verfÃ¼gbaren ArbeitsblÃ¤tter.{% else %}No worksheets available.{% endif %}
      </p>
    {% endfor %}
  </div>

</div>
{% endblock %}
